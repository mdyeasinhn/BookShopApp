!function(a){"use strict";var t,o,e,n,s=a("body"),i=!1;s.on("change",".bookory-products-per-page #per_page",function(t){t.preventDefault();var e,t=this.value;e=t,i&&i.abort(),i=a.ajax({type:"GET",url:e,beforeSend:function(){a("ul.bookory-products").addClass("preloader")},success:function(t){let o=a(t);a("#main ul.bookory-products").replaceWith(o.find("#main  ul.bookory-products")),a("#main .woocommerce-pagination").replaceWith(o.find("#main  .woocommerce-pagination")),a("#main .woocommerce-result-count").replaceWith(o.find("#main  .woocommerce-result-count")),window.history.pushState(null,null,e),i=!1,a(document).trigger("bookory-products-loaded")}})}),a(document).ready(function(){var t;3<(t=a("body.woocommerce-cart .cross-sells ul.products")).find("li.product").length&&t.slick({dots:!0,arrows:!1,infinite:!1,speed:300,slidesToShow:parseInt(3),autoplay:!1,slidesToScroll:1,lazyLoad:"ondemand",responsive:[{breakpoint:1024,settings:{slidesToShow:parseInt(3)}},{breakpoint:768,settings:{slidesToShow:parseInt(1)}}]})}),(t=a(".products")).on("click",".quantity input",function(){return!1}),t.on("change input",".quantity .qty",function(){a(this).parents(".product").find(".add_to_cart_button").attr("data-quantity",a(this).val())}),t.on("keypress",".quantity .qty",function(t){13===(t.which||t.keyCode)&&a(this).parents(".product").find(".add_to_cart_button").trigger("click")}),(o=a(".products-list")).on("click",".quantity input",function(){return!1}),o.on("change input",".quantity .qty",function(){a(this).parents(".product-list").find(".add_to_cart_button").attr("data-quantity",a(this).val())}),o.on("keypress",".quantity .qty",function(t){13===(t.which||t.keyCode)&&a(this).parents(".product-list").find(".add_to_cart_button").trigger("click")}),a("body").on("click",".product-block .product-color .item",function(){var t=a(this).data("image"),o=a(this).closest(".product-block").find(".product-image img");o.attr("src",t.src),o.attr("srcset",t.srcset),o.attr("sizes",t.sizes),a(this).hasClass("active-swatch")||(a(this).parent().find(".active-swatch").removeClass("active-swatch"),a(this).addClass("active-swatch"))}),(e=a(".widget_product_categories").find("ul")).length&&e.find("li").each(function(){var o=a(this),t=o.find("> a"),e=o.find("> ul.children");e.length&&(o.hasClass("closed")?(e.hide(),t.before('<i class="icon-plus"></i>')):(o.hasClass("opened")||o.addClass("opened"),t.before('<i class="icon-minus"></i>')),o.find("i").on("click",function(t){e.slideToggle("slow"),o.hasClass("closed")?(o.removeClass("closed").addClass("opened"),o.find(">i").removeClass("icon-plus").addClass("icon-minus")):(o.removeClass("opened").addClass("closed"),o.find(">i").removeClass("icon-minus").addClass("icon-plus")),t.stopImmediatePropagation()}),o.on("click",function(t){a(t.target).filter("a").length||(e.slideToggle("slow"),o.hasClass("closed")?(o.removeClass("closed").addClass("opened"),o.find("i").removeClass("icon-plus").addClass("icon-minus")):(o.removeClass("opened").addClass("closed"),o.find("i").removeClass("icon-minus").addClass("icon-plus")),t.stopImmediatePropagation())}))}),a("body").on("mouseenter",".product-list .product-caption .woosw-btn:not(.tooltipstered), .product-list .product-caption .woosq-btn:not(.tooltipstered), .product-list .product-caption .woosc-btn:not(.tooltipstered)",function(){var t=a(this);void 0!==a.fn.tooltipster&&t.tooltipster({position:"top",functionBefore:function(t,o){t.content(t._$origin.text())},theme:"opal-product-tooltipster",delay:0,animation:"grow"}).tooltipster("show")}),a(document).on("added_to_wishlist removed_from_wishlist",function(){var o=a(".header-wishlist .count, .footer-wishlist .count, .header-wishlist .wishlist-count-item");a.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(t){o.html(t.count),a(".wishlist-count-text").html(t.text)}})}),a("body").on("woosw_change_count",function(t,o){var e=a(".header-wishlist .count, .footer-wishlist .count, .header-wishlist .wishlist-count-item");a.ajax({url:woosw_vars.ajax_url,data:{action:"woosw_ajax_update_count"},dataType:"json",success:function(t){a(".wishlist-count-text").html(t.text)}}),e.html(o)}),a(document).ready(function(){a(".product-block").each(function(t,o){var e=a(".product-caption-bottom",this).outerHeight();a(".content-product-imagin",this).css({marginBottom:-e})})}),n=!1,a(document).on("submit","form.cart",function(t){var o,e,s=a(this).parents(".product");s.hasClass("product-type-external")||s.hasClass("product-type-zakeke")||(t.preventDefault(),o=a(this),(e=o.find(".single_add_to_cart_button")).addClass("loading"),(t=new FormData(o[0])).append("add-to-cart",o.find("[name=add-to-cart]").val()),t.delete("woosq-redirect"),n&&n.abort(),n=a.ajax({url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","bookory_add_to_cart"),data:t,type:"POST",processData:!1,contentType:!1,complete:function(t){"yes"===wc_add_to_cart_params.cart_redirect_after_add?window.location=wc_add_to_cart_params.cart_url:(e.removeClass("loading"),(t=t.responseJSON)&&(t.error&&t.product_url?window.location=t.product_url:(0<t.fragments.notices_html.indexOf("woocommerce-error")?(a(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),a(".single-product .site-content .col-full > .woocommerce").append(t.fragments.notices_html)):(a(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e]),a(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove()),o.unblock(),n=!1)))}}))})}(jQuery);